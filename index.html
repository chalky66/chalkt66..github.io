<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>FarmShop</title>
    <base href="/" />
    <link href="css/bootstrap/bootstrap.min.css" rel="stylesheet" />
    <link href="css/app.css" rel="stylesheet" />
    <link rel="icon" type="image/png" href="favicon.png" />
    <link href="FarmShopSecure.styles.css" rel="stylesheet" />
    <link href="manifest.json" rel="manifest" />
    <link rel="apple-touch-icon" sizes="512x512" href="icon-512.png" />
    <link rel="apple-touch-icon" sizes="192x192" href="icon-192.png" />
    <style>
        /* Set the background image as the page background */
        body {
            background-image: url('https://i.pinimg.com/564x/02/16/41/0216411e94ebd6744e4b0279cc06b824.jpg');
            background-position: center; /* Center the image */
            background-repeat: no-repeat; /* Do not repeat the image */
            background-size: cover; /* Cover the entire page */
        }
    </style>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            Blazor.start().then(function () {
                // Call your async JS function here
                JSRuntime.invokeAsync("testAsyncFunction").then(function (result) {
                    console.log(result);
                }).catch(function (error) {
                    console.error(error);
                });
            });
        });
    </script>
</head>

<body>
    <div id="app">
        <svg class="loading-progress">
            <circle r="40%" cx="50%" cy="50%" />
            <circle r="40%" cx="50%" cy="50%" />
        </svg>
        <div class="loading-progress-text"></div>
    </div>

    <div id="blazor-error-ui">
        An unhandled error has occurred.
        <a href="" class="reload">Reload</a>
        <a class="dismiss">ðŸ—™</a>
    </div>
    <script src="_framework/blazor.webassembly.js"></script>
    <script src="localStorageInterop.js"></script>

    <script>
        function clearBodyBackgroundImage() {
            document.body.style.backgroundImage = "none";
        }

        function testGeoRequest() {
            try {
                navigator.permissions.query(Object.assign({ name: 'geolocation' }, null))
                    .then(function (permission) {
                        document.getElementById(permissionName + '-status').innerHTML = permission.state;
                        permission.addEventListener('change', function (e) {
                            document.getElementById(permissionName + '-status').innerHTML = permission.state;
                            handleChange(permissionName, permission.state);
                        });
                    });
            } catch (e) {
            }
        }
        //    return new Promise((resolve, reject) => {
        //        navigator.geolocation.getCurrentPosition(
        //            (position) => {
        //                // Geolocation was successful
        //                resolve(position);
        //            },
        //            (error) => {
        //                // Geolocation failed
        //                reject(error);
        //            }
        //        );
        //    });
        }    </script>

</body>

</html>
